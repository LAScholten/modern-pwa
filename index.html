<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
</head>
<body>
    <h2>Hondendatabase Login</h2>
    
    <div>
        <p>Email: leoneurasier@gmail.com</p>
        <p>Wachtwoord: admin1903</p>
        
        <button onclick="doLogin()" style="padding: 15px; background: blue; color: white;">
            INLOGGEN
        </button>
        
        <button onclick="directAccess()" style="padding: 15px; background: green; color: white; margin-left: 10px;">
            DIRECT NAAR APP
        </button>
    </div>
    
    <div id="result" style="margin-top: 20px;"></div>

    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script>
        // Supabase
        const supabase = window.supabase.createClient(
            'https://owjwkjrktftugjjrcwml.supabase.co',
            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im93andranJrdGZ0dWdqanJjd21sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2MzA4OTAsImV4cCI6MjA4NDIwNjg5MH0.oW6HTAlMBkjUu_4e3kn4iozjn5wK-15h4wCKcaHrtp8'
        );

        // Login
        async function doLogin() {
            document.getElementById('result').innerHTML = 'Inloggen...';
            
            try {
                const { data, error } = await supabase.auth.signInWithPassword({
                    email: 'leoneurasier@gmail.com',
                    password: 'admin1903'
                });
                
                if (error) {
                    document.getElementById('result').innerHTML = '❌ Fout: ' + error.message;
                    return;
                }
                
                localStorage.setItem('userEmail', data.user.email);
                localStorage.setItem('userId', data.user.id);
                localStorage.setItem('isAdmin', 'true');
                
                document.getElementById('result').innerHTML = '✅ Ingelogd!';
                
                setTimeout(() => {
                    window.location.href = 'app.html';
                }, 1000);
                
            } catch (error) {
                document.getElementById('result').innerHTML = '❌ Error: ' + error.message;
            }
        }

        // Direct access
        function directAccess() {
            localStorage.setItem('userEmail', 'leoneurasier@gmail.com');
            localStorage.setItem('userId', 'direct');
            localStorage.setItem('isAdmin', 'true');
            
            document.getElementById('result').innerHTML = '✅ Directe toegang!';
            
            setTimeout(() => {
                window.location.href = 'app.html';
            }, 500);
        }

        // Check session
        supabase.auth.getSession().then(({ data }) => {
            if (data.session) {
                document.getElementById('result').innerHTML = 'Al ingelogd, ga naar app...';
                setTimeout(() => {
                    window.location.href = 'app.html';
                }, 500);
            }
        });
    </script>
</body>
</html>